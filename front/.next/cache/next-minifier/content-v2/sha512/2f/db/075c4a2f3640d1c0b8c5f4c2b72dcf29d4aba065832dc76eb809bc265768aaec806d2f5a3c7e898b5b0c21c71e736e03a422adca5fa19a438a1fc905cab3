{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{RNiq:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"__N_SSP\",(function(){return v}));var c=n(\"q1tI\"),a=n.n(c),i=n(\"1zst\"),o=n(\"/MKj\"),r=n(\"ODXe\"),u=n(\"Vl3Y\"),l=n(\"5rEg\"),s=n(\"2/Rp\"),f=n(\"p+NB\"),d=n(\"3zrx\"),p=a.a.createElement,m=function(){var t=Object(o.c)((function(t){return t.post})),e=t.imagePaths,n=t.addPostDone,a=Object(d.a)(\"\"),i=Object(r.a)(a,3),m=i[0],b=i[1],h=i[2],v=Object(o.b)();Object(c.useEffect)((function(){n&&h(\"\")}),[n]);var w=Object(c.useCallback)((function(){if(!m||!m.trim())return alert(\"\\uac8c\\uc2dc\\uae00 \\uc791\\uc131\\ud558\\uc138\\uc694\");var t=new FormData;return e.forEach((function(e){t.append(\"image\",e)})),t.append(\"content\",m),v({type:f.e,data:t})}),[m,e]),g=Object(c.useRef)(),j=Object(c.useCallback)((function(){g.current.click()}),[g.current]),O=Object(c.useCallback)((function(t){console.log(\"images\",t.target.files);var e=new FormData;[].forEach.call(t.target.files,(function(t){e.append(\"image\",t)})),v({type:f.G,data:e})}),[]),y=Object(c.useCallback)((function(t){return function(){v({type:f.v,data:t})}}));return p(u.a,{style:{margin:\"10px 0 20px\"},encType:\"multipart/form-data\",onFinish:w},p(l.a.TextArea,{value:m,onChange:b,maxLength:140,placeholder:\"\\uc5b4\\ub5a4 \\uc2e0\\uae30\\ud55c \\uc77c\\uc774 \\uc788\\uc5c8\\ub098\\uc694?\"}),p(\"div\",null,p(\"input\",{type:\"file\",name:\"image\",multiple:!0,hidden:!0,ref:g,onChange:O}),p(s.a,{onClick:j},\"\\uc774\\ubbf8\\uc9c0 \\uc5c5\\ub85c\\ub4dc\"),p(s.a,{type:\"primary\",style:{float:\"right\"},htmlType:\"submit\"},\"\\uca31\\uca31\")),p(\"div\",null,e.map((function(t,e){return p(\"div\",{key:t,style:{display:\"inline-block\"}},p(\"img\",{src:\"http://localhost:3065/\".concat(t),style:{width:\"200px\"},alt:t}),p(\"div\",null,p(s.a,{onClick:y(e)},\"\\uc81c\\uac70\")))}))))},b=n(\"kduo\"),h=a.a.createElement,v=!0;e.default=function(){var t=Object(o.b)(),e=Object(o.c)((function(t){return t.user})).me,n=Object(o.c)((function(t){return t.post})).retweetError,a=Object(o.c)((function(t){return t.post})),r=a.mainPosts,u=a.hasMorePosts,l=a.loadPostsLoading;return Object(c.useEffect)((function(){}),[]),Object(c.useEffect)((function(){n&&alert(n)}),[n]),Object(c.useEffect)((function(){function e(){if(window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&u&&!l){var e,n=null===(e=r[r.length-1])||void 0===e?void 0:e.id;t({type:f.n,lastId:n})}}return window.addEventListener(\"scroll\",e),function(){window.removeEventListener(\"scroll\",e)}}),[u,l,r]),h(i.a,null,e&&h(m,null),r.map((function(t){return h(b.a,{key:t.id,post:t})})))}},vlRD:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",1,2,6,0,3,4,5,7]]]);","extractedComments":[]}